<div class="input-xlarge">
  <div class="form-group" ng-class="{ 'has-error': validity.inputVin.$error.required || validity.inputVin.$error.minlength || validity.inputVin.$error.maxlength || (vinIsSyntacticallyValid(validity.inputVin.$error) && validity.inputVin.$error.nxgRequires) }">
    <label ng-show="data.UnitVin" for="inputVin" class="show-hide field-label" translate>VIN</label>
    <div class="input-group" style="margin-right: 20px;">
      <div>
        <i class="glyphicon glyphicon-search"></i>
      </div>
      <input type="text" id="inputVin"
             class="vin-focus form-control" placeholder="{{ 'VIN' | translate }}"
             name="inputVin"
             ng-model="data.UnitVin" required
             ng-minlength="6"
             ng-maxlength="17"
             nxg-requires="data.settingsVinMode == 'matched' || data.settingsVinMode == 'noMatch'"
             ng-change="vinChange()" nxg-blur="vinExit()"
             nxg-autofocus
             ng-class="{ 'nxg-invalid': validity.inputVin.$error.required || validity.inputVin.$error.minlength || validity.inputVin.$error.maxlength || (vinIsSyntacticallyValid(validity.inputVin.$error) && validity.inputVin.$error.nxgRequires)}" />
      <div class="input-group-btn">
        <button type="button" href class="btn btn-primary" style="margin: 0px; left: 20px;" ng-click="lookupVin()" translate>SEARCH</button>
      </div>
    </div>
  </div>


  <label for="inputVin" class="text-error" ng-show="validity.inputVin.$error.required" translate>
    Please enter a VIN.
  </label>
  <label for="inputVin" class="text-error" ng-show="validity.inputVin.$error.minlength || validity.inputVin.$error.maxlength" translate>
    VIN should be 6 to 17 characters.
  </label>
  <label for="inputVin" class="text-error" ng-show="vinIsSyntacticallyValid(validity.inputVin.$error) && validity.inputVin.$error.nxgRequires" translate>
    Please look up the VIN.
  </label>
</div>


<div ng-show="data.settingsVinMode == 'noMatch'">
  <div class="row">
    <div class="col-sm-10">
      <div class="cr-inline invalid-vin">
        <label class="vin-acknowledge">
          <span translate>We're sorry, we were unable to find this VIN. This looks like a passenger vehicle. Please select the year, make, model and style below.</span>
        </label>
        <label class="vin-acknowledge">
          <span translate>This is not a passenger vehicle, and I'd like to manually enter the details:</span>
        </label>
          <div style="line-height: 1.5;">
            <input bs-switch type="checkbox" id="cmnToggle" name="cmnToggle" class="noglobal" switch-active="true"
                   ng-model="data.dirtyStatus" ng-change="resetSearch()"
                   switch-size="normal" switch-off-text="{{ 'No' | translate }}" switch-on-text="{{ 'Yes' | translate }}" switch-checked="data.dirtyStatus"
                   switch-on-color="success">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div ng-hide="data.settingsVinMode == 'noMatch'">
  <div class="form-group">
    <label ng-show="data.$selectedVehicle.Year" for="outputYear" class="show-hide" translate>Year</label>
    <input id="outputYear" class="form-control" placeholder="{{ 'Year' | translate }}" ng-model="data.$selectedVehicle.Year" disabled/>
  </div>
  <div class="form-group">
    <label ng-show="data.$selectedVehicle.Make" for="outputMake" class="show-hide" translate>Make</label>
    <input id="outputMake" class="form-control" placeholder="{{ 'Make' | translate }}" ng-model="data.$selectedVehicle.Make" disabled/>
  </div>
  <div class="form-group">
    <label ng-show="data.$selectedVehicle.Model" for="outputModel" class="show-hide" translate>Model</label>
    <input id="outputModel" class="form-control" placeholder="{{ 'Model' | translate }}" ng-model="data.$selectedVehicle.Model" disabled/>
  </div>
  <div class="form-group">
    <label ng-show="data.$selectedVehicle.Style" for="outputStyle" class="show-hide" translate>Style</label>
    <input id="outputStyle" class="form-control" placeholder="{{ 'Style' | translate }}" ng-model="data.$selectedVehicle.Style" disabled/>
  </div>
</div>
<div ng-if="(data.settingsVinMode == 'noMatch')">
    <div ng-if="data.dirtyStatus">
      <div class="form-group">
        <label ng-show="data.inputYear" for="inputYear" class="show-hide" translate>Year</label>
        <input id="inputYear" name="inputYear" class="form-control" placeholder="{{ 'Year' | translate}}" ng-model="data.inputYear"
               required ng-pattern="/^\d{4}$/" nxg-min="1901" nxg-max="settings.maxYear" />
         <label for="inputYear" class="text-error"
                ng-show="validity.inputYear.$error.required" translate>
           Please enter a Year.
         </label>
         <label for="inputYear" class="text-error"
                ng-show="validity.inputYear.$error.pattern" translate>
           Please enter a four-digit Year.
         </label>
         <label for="inputYear" class="text-error"
                ng-show="(validity.inputYear.$error.nxgMin || validity.inputYear.$error.nxgMax)" translate>
           Please enter a Year between 1901 and {{ settings.maxYear }}.
         </label>
      </div>
      <div class="form-group">
        <label ng-show="data.inputMake" for="inputMake" class="show-hide" translate>Make</label>
        <input id="inputMake" name="inputMake" class="form-control" placeholder="{{ 'Make' | translate }}" ng-model="data.inputMake"
               required/>
        <label for="inputMake" class="text-error" ng-show="validity.inputMake.$error.required" translate>
          Please enter a Make.
        </label>
      </div>
      <div class="form-group">
        <label ng-show="data.inputModel" for="inputModel" class="show-hide" translate>Model</label>
        <input id="inputModel" name="inputModel" class="form-control" placeholder="{{ 'Model' | translate }}" ng-model="data.inputModel"
               required/>
        <label for="inputModel" class="text-error" ng-show="validity.inputModel.$error.required" translate>
          Please enter a Model.
        </label>
      </div>
      <div class="form-group">
      <label ng-show="data.inputStyle" for="inputStyle" class="show-hide" translate>Style</label>
      <input id="inputStyle" name="inputStyle" class="form-control" placeholder="{{ 'Style' | translate }}" ng-model="data.inputStyle"
             required/>
      <label for="inputStyle" class="text-error" ng-show="validity.inputStyle.$error.required" translate>
        Please enter a Style.
      </label>
    </div>
    </div>
    <div ng-if="(!data.dirtyStatus)">
    <div class="form-group">
      <label ng-show="data.kb.years.selected" for="year" class="show-hide" translate>Year</label>
      <div class="style-select full-width" ng-class="{ 'nxg-invalid' : validity.year.$error.required }">
        <select id="year" name="year"
                ng-model="data.kb.years.selected"
                ng-change="lookupValues.vehicle.makes.fill()"
                ng-options="year.Value for year in data.kb.years.list"
                required>
          <option value="" translate>Year</option>
        </select>
      </div>
      <label for="year" class="text-error" ng-show="validity.year.$error.required" translate>
        Please select a Year.
      </label>
    </div>
    <div class="form-group">
      <label ng-show="data.kb.makes.selected" for="make" class="show-hide" translate>Make</label>
      <div class="style-select full-width" ng-class="{ 'nxg-invalid' : validity.make.$error.required }">
        <select id="make" name="make"
                ng-model="data.kb.makes.selected"
                ng-change="lookupValues.vehicle.models.fill()"
                ng-disabled="!data.kb.years.selected"
                ng-options="make.Value for make in data.kb.makes.list"
                required>
          <option value="" translate>Make</option>
        </select>
      </div>
      <label for="make" class="text-error" ng-show="validity.make.$error.required" translate>
        Please select a Make.
      </label>
    </div>
    <div class="form-group">
      <label ng-show="data.kb.models.selected" for="model" class="show-hide" translate>Model</label>
      <div class="style-select full-width" ng-class="{ 'nxg-invalid': validity.model.$error.required }">
        <select id="model" name="model"
                ng-model="data.kb.models.selected"
                ng-change="lookupValues.vehicle.styles.fill()"
                ng-disabled="!data.kb.makes.selected"
                ng-options="model.Value for model in data.kb.models.list"
                required>
          <option value="" translate>Model</option>
        </select>
      </div>
      <label for="model" class="text-error" ng-show="validity.model.$error.required" translate>
        Please select a Model.
      </label>
    </div>
    <div class="form-group">
  <label ng-show="data.kb.styles.selected" for="style" class="show-hide" translate>Style</label>
  <div class="style-select full-width" ng-class="{ 'nxg-invalid':validity.style.$error.required }">
    <select id="style" name="style"
            ng-model="data.kb.styles.selected"
            ng-disabled="!data.kb.models.selected"
            ng-options="style.DisplayName for style in data.kb.styles.list"
            required>
      <option value="" translate>Style</option>
    </select>
  </div>
  <label for="style" class="text-error"
         ng-show="validity.style.$error.required" translate>
    Please select a Style.
  </label>
</div>
 </div>
  </div>
