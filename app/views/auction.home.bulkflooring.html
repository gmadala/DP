<form class="row-fluid two-col floorcar" name="form" novalidate>
   <fieldset class="span8 well adjacent first">
      <h4>Vehicle Information</h4>
      <div class="well-out">

       <div nxg-vin-details floor-model="data" validity="validity" form="form" nxg-autofocus="reset"></div>

       <label for="inputColor" class="input-title">Color</label>
       <select id="inputColor" name="inputColor" ng-model="data.UnitColorId"
               ng-options="color.ColorName for color in options().colors" ng-class="{ 'nxg-invalid': validity.inputColor.$error.required }" required>
        <option class="disabled" disabled="disabled" value="">Make Selection</option>
       </select>
       <label for="inputColor" class="text-error"
              ng-show="validity.inputColor.$error.required">
         Please select a Color
       </label>

       <label for="inputMileage" class="input-title">Mileage</label>
       <input type="text" id="inputMileage" name="inputMileage"
              ng-model="data.UnitMileage"
              ng-class="{ 'nxg-invalid': validity.inputMileage.$error.required || validity.inputMileage.$error.pattern || validity.inputMileage.$error.maxlength }"
              ng-pattern="/^[0-9]{1,3}(?:,?[0-9]{3})*(\.[0-9]{2})?$/"
              required
              ng-maxlength=6
              nxg-deformat-number/>
       <label for="inputMileage" class="text-error"
              ng-show="validity.inputMileage.$error.required">
          Please enter the Mileage
       </label>
       <label for="inputMileage" class="text-error"
              ng-show="validity.inputMileage.$error.pattern">
          Please enter a numeric value
       </label>
       <label for="inputMileage" class="text-error"
              ng-show="validity.inputMileage.$error.maxlength">
          Please enter a value less than 1,000,000 miles
        </label>

       <label for="inputTitleHolder" class="input-title">Who has the Title?</label>
       <select id="inputTitleHolder" name="inputTitleHolder" ng-model="data.TitleLocationId"
               ng-class="{ 'nxg-invalid': validity.inputTitleHolder.$error.required }"
               ng-options="location.Name for location in options().titleLocationOptions"
               required>
         <option class="disabled" disabled="disabled" value="">Make Selection</option>
       </select>
       <label for="inputTitleHolder" class="text-error"
              ng-show="validity.inputTitleHolder.$error.required">
         Please select who has the title
       </label>

       <label for="inputTitleState" class="input-title">Title State</label>
       <select id="inputTitleState" name="inputTitleState" ng-model="data.UnitTitleStateId"
              ng-class="{ 'nxg-invalid': validity.inputTitleState.$error.required }"
              ng-options="state.StateName for state in options().states"
              ng-disabled="!data.TitleLocationId.TitleInfoEnabled"
              ng-required="data.TitleLocationId.TitleInfoRequired">
         <option class="disabled" disabled="disabled" value="">Make Selection</option>
       </select>
       <label for="inputTitleState" class="text-error"
              ng-show="validity.inputTitleState.$error.required">
         Please select a Title State
       </label>

       <label for="inputTitleNo" class="input-title">Title Number</label>
       <input type="text" id="inputTitleNo" name="inputTitleNo" ng-model="data.UnitTitleNumber"
              ng-class="{ 'nxg-invalid': validity.inputTitleNo.$error.required }"
              ng-disabled="!data.TitleLocationId.TitleInfoEnabled"
              ng-required="data.TitleLocationId.TitleInfoRequired"
              maxlength="50"/>
       <label for="inputTitleNo" class="text-error"
              ng-show="validity.inputTitleNo.$error.required">
         Please enter the Title Number
       </label>

        <label for="consignerTicket" class="input-title">Consigner Ticket Number</label>
        <input type="text" id="consignerTicket" name="consignerTicket"
              ng-model="data.ConsignerTicketNumber"
              ng-class="{ 'nxg-invalid': validity.consignerTicket.$error.required }"
              required/>
        <label for="consignerTicket" class="text-error"
               ng-show="validity.consignerTicket.$error.required">
          Please enter a Consigner Ticket Number
        </label>

        <label for="inputLotNum" class="input-title">Lot Number</label>
        <input type="text" id="inputLotNum" name="inputLotNum"
              ng-model="data.LotNumber"
              ng-class="{ 'nxg-invalid': validity.inputLotNum.$error.required }"
              required/>
        <label for="inputLotNum" class="text-error"
               ng-show="validity.inputLotNum.$error.required">
          Please enter the Lot Number
        </label>

      </div>
   </fieldset>

    <fieldset class="span8 well adjacent last-adjacent">
      <h4>Sale Information</h4>
      <div class="well-out">

        <label for="inputBuyer" class="input-title">Buyer</label>
        <span class="nxg-business-field" ng-class="{ 'nxg-invalid': validity.inputBuyer.$error.nxgRequires }">
          <input nxg-business-field="buyers" id="inputBuyer" class="input-xlarge"
                 name="inputBuyer"
                 ng-required="true"
                 selected-business="data.BusinessId" />
        </span>
        <label for="inputBuyer" class="text-error"
               ng-show="validity.inputBuyer.$error.nxgRequires">
          Please look up a Buyer
        </label>

        <label for="inputPurchaseAmt" class="input-title">Purchase Amount</label>
        <div class="input-prepend dollar">
          <span class="add-on">$</span>
          <input type="text" id="inputPurchaseAmt" name="inputPurchaseAmt" ng-model="data.UnitPurchasePrice"
                 ng-pattern="/^[0-9]{1,3}(?:,?[0-9]{3})*(\.[0-9]{2})?$/"
                 required
                 nxg-deformat-number
                 ng-maxlength=12
                 ng-class="{ 'nxg-invalid': validity.inputPurchaseAmt.$error.required || validity.inputPurchaseAmt.$error.pattern || validity.inputPurchaseAmt.$error.maxlength }" />
          <label for="inputPurchaseAmt" class="text-error"
                 ng-show="validity.inputPurchaseAmt.$error.required">
            Please enter the Purchase Amount
          </label>
          <label for="inputPurchaseAmt" class="text-error"
                 ng-show="validity.inputPurchaseAmt.$error.pattern">
            Please enter a numeric value with no <br> special characters, such as a dollar sign
          </label>
            <label for="inputPurchaseAmt" class="text-error"
                 ng-show="validity.inputPurchaseAmt.$error.maxlength">
                  Please enter a value less than $1,000,000,000,000
          </label>
        </div>

        <label for="inputSaleDate" class="input-title">Sales Date</label>
        <input id="inputSaleDate" name="inputSaleDate" ng-model="data.UnitPurchaseDate"
               nxg-date-field before-show-day="isValidSaleDate(date)"
               required
               nxg-requires="isValidSaleDate(data.UnitPurchaseDate)"
               ng-class="{ 'nxg-invalid': validity.inputSaleDate.$error.required || (validity.inputSaleDate.$error.nxgRequires && !validity.inputSaleDate.$error.required) }" />
        <label for="inputSaleDate" class="text-error"
               ng-show="validity.inputSaleDate.$error.required">
          Please enter the Sales Date
        </label>
        <label for="inputSaleDate" class="text-error"
               ng-show="validity.inputSaleDate.$error.nxgRequires && !validity.inputSaleDate.$error.required">
          Please enter a valid non-future date
        </label>
        <p class="scale-description">
          The actual sale date must be used when flooring a car
          <span class="btn-help inline"
                  tooltip-placement="right"
                  tooltip-trigger="click"
                  tooltip="Actual sales dates must be used when flooring a car. By entering a sale date of the car being floored the auction certifies the entered sale date for the car is true and correct."
                  tooltip-animation="true">?</span>
        </p>

        <label for="inputDisburseAcct" class="input-title">Bank Account</label>
        <select id="inputDisburseAcct" name="inputDisburseAcct" ng-model="data.BankAccountId"
                ng-options="account.BankAccountName for account in options().bankAccounts"
                ng-class="{ 'nxg-invalid': validity.inputDisburseAcct.$error.required }"
                required>
         <option class="disabled" disabled="disabled" value="">Make Selection</option>
        </select>
        <label for="inputDisburseAcct" class="text-error"
               ng-show="validity.inputDisburseAcct.$error.required">
          Please select a Bank Account for Disbursement
        </label>

        <div class="footer modal-footer">
          <button class="btn btn-small btn-primary"
                  ng-disabled="submitInProgress"
                  type="submit"
                  ng-click="submit()">
            Floor
          </button>
          <button class="btn btn-small btn-secondary"
                  ng-disabled="submitInProgress"
                  ng-click="cancel()">
            Cancel
          </button>
        </div>
      </div>
    </fieldset>
</form>
<span id="checkbox-image-preloader"></span>
