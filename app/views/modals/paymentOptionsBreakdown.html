<h3 class="modal-header">
  Payment Options & Breakdown
</h3>

<div class="modal-body to-edge" nxg-autofocus>
  <div class="well-item aside">
    <p class="truncate">Description: <span class="highlight">{{ paymentObject.description }}</span></p>
  </div>
  <form class="modal-inner" name="paymentOptionsForm">
    <h3>Payment Options</h3>
    <p class="paragraph">Select a payment from the options below:</p>

    <ul class="form-block">
      <li class="cr-inline">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" value="payoff" id="paymentOptionPayoff" required />
        <label class="radio-img" for="paymentOptionPayoff"></label>
        <label class="cr-label" for="paymentOptionPayoff">
          <strong>{{ paymentObject.payoff.amount | currency }}</strong> – Payoff this vehicle
        </label>
      </li>
      <li class="cr-inline">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" value="payment" id="paymentOptionCurtailment" required />
        <label class="radio-img" for="paymentOptionCurtailment"></label>
        <label class="cr-label" for="paymentOptionCurtailment">
          <strong>{{ paymentObject.payment.amount | currency }}</strong> – Curtailment Payment
        </label>
        <div class="form-row" ng-show="selector.paymentOption == 'payment' && (maxAdditional > 0.01)">
          <div class="input-prepend dollar">
            <span class="add-on">$</span>
            <input type="text"
            class="input-small"
            name="additionalAmount"
            id="additionalAmount"
            ng-model="selector.additionalAmount"
            placeholder="0.00"
            ng-pattern="/^[0-9]{1,3}(?:,?[0-9]{3})*(\.[0-9]{1,2})?$/"
            nxg-min="0"
            nxg-max="{{ maxAdditional }}"
            nxg-input-currency="{{ maxAdditional }}"

            ng-class="{ 'nxg-invalid':validity.additionalAmount.$error.pattern || validity.additionalAmount.$error.nxgMin || validity.additionalAmount.$error.max }" />
          </div> – Additional Principal Payment
        </div>
        <div class="form-row">
          <label class="text-error" ng-show="validity.additionalAmount.$error.pattern">Please enter a numeric value with no more than 2 decimal places.</label>
          <label class="text-error" ng-show="validity.additionalAmount.$error.nxgMin || validity.additionalAmount.$error.nxgMax">
            Payout Amount must be $0.01 to {{ maxAdditional | currency }}
          </label>
        </div>
      </li>

      <li class="cr-inline">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" value="interest" id="paymentOptionInterest" required />
        <label class="radio-img" for="paymentOptionInterest"></label>
        <label class="cr-label" for="paymentOptionInterest">
          <strong>{{ paymentObject.interest.amount | currency }}</strong> – Interest-Only Payment
        </label>
      </li>

    </ul>
  </form>
  <div class="aside modal-inner">
    <h3>Payment Breakdown</h3>

    <ul class="list-table">
      <li class="list-table-row">
        <p class="span8">Principal:</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.principal | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row" ng-show="selector.paymentOption == 'payment' && selector.additionalAmount">
        <p class="span8">Additional Principal:</p>
        <p class="span4 value numeric">{{ selector.additionalAmount | currency }}</p>
      </li>
      <li class="list-table-row">
        <p class="span8">Interest:</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.interest | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row">
        <p class="span8">Fee(s):</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.fees | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row" ng-show="paymentObject.payment.cpp">
        <p class="span8">CPP:</p>
        <p class="span4 value numeric"><span class="table-symbol">+</span>{{ (paymentBreakdown.cpp | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-hr"></li>
      <li class="list-table-row">
        <p class="span8">Payment Total:</p>
        <p class="span4 value numeric">{{ (total | currency) || 'n/a' }}</p>
      </li>
    </ul>
  </div>
</div>

<div class="modal-footer">
  <button ng-click="close()" class="btn-cta cta-secondary" type="button">Cancel Changes</button>
  <button ng-click="confirm()" class="btn-cta cta-primary" type="submit">Confirm Changes</button>
</div>

