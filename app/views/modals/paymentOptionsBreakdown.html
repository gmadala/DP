<h3 class="modal-header" translate>
  Payment Options &amp; Breakdown
</h3>

<div class="modal-body to-edge" nxg-autofocus>
  <div class="well-item aside">
    <p class="truncate"><span translate>Description</span>: <span class="highlight heavy">{{ paymentObject.description }}</span></p>
  </div>
  <form class="modal-inner" name="paymentOptionsForm">
    <h3 translate>Payment Options</h3>
    <p class="paragraph"><span translate>Select a payment from the options below</span>:</p>

    <ul class="form-block">
      <li class="cr-inline">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" ng-value="PaymentOptions.TYPE_PAYOFF" id="paymentOptionPayoff" required />
        <label class="radio-img" for="paymentOptionPayoff"></label>
        <label class="cr-label" for="paymentOptionPayoff">
          <strong>{{ paymentObject.getCheckoutAmount(PaymentOptions.TYPE_PAYOFF) | currency }}</strong> – <span translate>Payoff this vehicle</span>
        </label>
      </li>
      <li class="cr-inline">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" ng-value="PaymentOptions.TYPE_PAYMENT" id="paymentOptionCurtailment" required />
        <label class="radio-img" for="paymentOptionCurtailment"></label>
        <label class="cr-label" for="paymentOptionCurtailment">
          <strong>{{ paymentObject.getCheckoutAmount(PaymentOptions.TYPE_PAYMENT) - curtailmentObject.additionalPrincipal | currency }}</strong> – <span translate>Curtailment Payment</span>
        </label>
        <div class="form-row" ng-show="selector.paymentOption == PaymentOptions.TYPE_PAYMENT && (maxAdditional > 0.01)">
          <div class="input-prepend dollar">
            <span class="add-on">$</span>
            <input type="text"
            class="input-small"
            name="additionalAmount"
            id="additionalAmount"
            ng-model="curtailmentObject.additionalPrincipal"
            placeholder="0.00"
            ng-pattern="/^[0-9]{1,3}(?:,?[0-9]{3})*(\.[0-9]{1,2})?$/"
            nxg-min="0"
            nxg-max="{{ maxAdditional }}"
            nxg-input-currency="{{ maxAdditional }}"

            ng-class="{ 'nxg-invalid':validity.additionalAmount.$error.pattern || validity.additionalAmount.$error.nxgMin || validity.additionalAmount.$error.nxgMax }" />
          </div> – <span translate>Additional Principal Payment</span>
        </div>
        <div class="form-row">
          <label class="text-error" ng-show="validity.additionalAmount.$error.pattern" translate>Please enter a numeric value with no more than 2 decimal places.</label>
          <label class="text-error" ng-show="validity.additionalAmount.$error.nxgMin || validity.additionalAmount.$error.nxgMax" translate>
            Payout Amount must be $0.01 to {{ maxAdditional | currency }}
          </label>
        </div>
      </li>

      <li class="cr-inline" ng-show="paymentObject.interest.amount > 0">
        <input type="radio" ng-model="selector.paymentOption" name="paymentOption" ng-value="PaymentOptions.TYPE_INTEREST" id="paymentOptionInterest" required />
        <label class="radio-img" for="paymentOptionInterest"></label>
        <label class="cr-label" for="paymentOptionInterest">
          <strong>{{ paymentObject.getCheckoutAmount(PaymentOptions.TYPE_INTEREST) | currency }}</strong> – <span translate>Interest-Only Payment</span>
        </label>
      </li>

    </ul>
  </form>
  <div class="aside modal-inner">
    <h3 translate>Payment Breakdown</h3>

    <ul class="list-table">
      <li class="list-table-row">
        <p class="span8"><span translate>Principal</span>:</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.principal | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row" ng-show="selector.paymentOption == PaymentOptions.TYPE_PAYMENT && curtailmentObject.additionalPrincipal">
        <p class="span8" translate>Additional Principal:</p>
        <p class="span4 value numeric">{{ curtailmentObject.additionalPrincipal | currency }}</p>
      </li>
      <li class="list-table-row">
        <p class="span8"><span translate>Interest</span>:</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.interest | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row">
        <p class="span8"><span translate>Fee(s)</span>:</p>
        <p class="span4 value numeric">{{ (paymentBreakdown.fees | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-row" ng-show="paymentObject.payment.cpp">
        <p class="span8"><span translate>CPP</span>:</p>
        <p class="span4 value numeric"><span class="table-symbol">+</span>{{ (paymentBreakdown.cpp | currency) || 'n/a' }}</p>
      </li>
      <li class="list-table-hr"></li>
      <li class="list-table-row">
        <p class="span8"><span translate>Payment Total</span>:</p>
        <p class="span4 value numeric">{{ (paymentObject.getCheckoutAmount(selector.paymentOption) | currency) || 'n/a' }}</p>
      </li>
    </ul>
  </div>
</div>

<div class="modal-footer">
  <button ng-click="close()" class="btn-cta cta-secondary" type="button" translate>Cancel Changes</button>
  <button ng-click="confirm()" class="btn-cta cta-primary" type="submit" translate>Confirm Changes</button>
</div>

