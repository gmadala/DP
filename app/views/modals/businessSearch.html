<div class="modal-header">
  Business Search
</div>

<div class="modal-close" ng-disabled="submitInProgress" ng-click="close()">
  <span class="glyphicon glyphicon-remove"></span>
</div>

<div class="modal-body search-controls">
    <label>Business Name or Number</label>
    <input type="text" ng-model="data.query">
    <button class="btn btn-secondary nxg-search-btn" ng-click="search()">
      <i class="glyphicon glyphicon-search"></i>
    </button>
</div>

<div class="modal-body search-results"
     nxg-infinite-scroll="fetchNextResults()"
     nxg-infinite-scroll-disabled="data.loading"
     nxg-infinite-scroll-show-indicator="data.loading"
     nxg-scroll-container>
  <table>
    <thead>
      <tr>
          <th>Business Name</th>
          <th>Legal Name</th>
          <th>Business&nbsp;#</th>
          <th ng-show="data.searchBuyersMode">Auction Access #</th>
          <th>City</th>
          <th>State</th>
          <th></th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="result in data.results">
        <td>{{ result.BusinessName }}</td>
        <td>{{ result.BusinessLegalName }}</td>
        <td>{{ result.BusinessNumber }}</td>
        <td ng-show="data.searchBuyersMode">
          <span tooltip-html-unsafe="{{ result.AuctionAccessDealershipNumbers | list:'<br>' }}"
                tooltip-placement="right"
                tooltip-popup-delay="700"
                tooltip-append-to-body="true">
            {{ result.AuctionAccessDealershipNumbers | list }}
          </span>
        </td>
        <td>{{ result.City }}</td>
        <td>{{ result.State }}</td>
        <td><a href class="btn btn-mini" ng-click="select(result)">Select</a></td>
      </tr>
    </tbody>
  </table>
</div>
<div class="modal-footer">
  <button ng-click="close()" class="btn btn-mini btn-secondary">Cancel</button>
</div>
