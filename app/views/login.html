<header class="login-head">
  <div class="row-fluid">
    <div class="container-fluid">
      <img id="nxg-logo" src="../img/nxg_logo_blue_2x.png" alt="" />
    </div>
  </div>
</header>

<div class="container-line">
  <div class="container-fluid login-contents">

    <!-- TODO: Check to see if there's a notice to show or not. -->
    <p class="notice" ng-show="true">
      EXAMPLE: MyNextGear will be down for maintenance June 24, 2013 - June 25, 2013 from 10:00pm - 1:00am EST. Thanks for your patience!
    </p>

    <!-- LOGIN VIEW -->
    <div class="row-fluid">
      <div ng-hide="forgot" class="well well-single span4 offset4">
        <h4>Sign In</h4>

        <div class="well-out">
          <form name="loginForm">

            <label>Username:</label>
            <input type="text" ng-model="credentials.username" id="credUsername" name="credUsername" required />

            <label for="credPassword">Password:</label>
            <input type="text" ng-model="credentials.password" id="credPassword" name="credPassword" required />

            <!-- TODO: Check for variable that determines whether username/password are valid via server side -->
            <span class="error" ng-show="showLoginError">The username or password you entered is incorrect.</span>


          </form>

          <div class="footer modal-footer">
            <button class="btn btn-small btn-primary" ng-click="authenticate()" ng-disabled="loginForm.credUsername.$pristine || loginForm.credPassword.$pristine">Log In</button>
          </div>

          <div class="forgot">
            <a ng-click="forgot=true">Forgot your username or password?</a>
          </div>
        </div><!-- end .well-out -->
      </div><!-- end .well -->
    </div><!-- end .row-fluid -->

    <div class="row-fluid">
      <div class="span6 offset3 login-help">
        <p class="headline">Do you have <a href="http://get.adobe.com/reader/">Adobe Acrobat Reader 8.1</a> or newer?</p>
        <p>You will need it in order to view your reports.<br/>
        Not sure? <a href="https://test.discoverdsc.com/MyDSC/Public/Test.pdf">Test your Adobe Reader installation.</a><br/>
        If the document did not successfully display, please install <a href="http://get.adobe.com/reader/">Adobe Acrobat Reader</a></p>
      </div><!-- end .help -->
    </div>

    <!-- FORGOT USERNAME/PASSWORD VIEW -->
    <div ng-show="forgot" class="row-fluid span8">
      <h2 class="center">Forgot Your User Name or Password?</h2>

      <div class="span4" ng-class="{'nxg-fade' : forgotPassword.$dirty}">
        <h3>Forgot Your User Name?</h3>

        <p>
          Enter the email address associated with your account to receive your username via email.
        </p>
        <form name="forgotUsername">
          <label>Email Address</label>
          <input type="email" name="email" ng-model="email" ng-disabled="forgotPassword.$dirty" required/>
          <!-- TODO: Add error text for when email is valid but not recogized by NextGear -->
          <p class="error"  ng-show="">
            We were unable to locate this email address.  If you need assistance, please call NextGear Capital Support at: (888) 969-3721
          </p>

          <p class="error" ng-show="forgotUsername.email.$invalid && forgotUsername.email.$dirty">
            XXXX is not a valid email address. If you need assistance, please call NextGear Capital Support at: (888) 969-3721
          </p>
          <button class="btn" ng-disabled="forgotUsername.email.$invalid || forgotPassword.$dirty">Submit</button>
        </form>
      </div>

      <div class="span4 offset1" ng-class="{'nxg-fade' : forgotUsername.$dirty}">
        <h3>Forgot Your Password?</h3>

        <p>Enter your username to receive a new password via email.</p>
        <form name="forgotPassword">
          <label>User Name</label>
          <input type="text" name="userName" ng-model="credentials.username" ng-disabled="forgotUsername.$dirty" required/>
          <!-- TODO: Add error text for when username is valid but no trecognized by NextGear -->
          <p class="error" ng-show="">
            We were unable to locate this username. If you need assistance, please call NextGear Capital Support at: (888) 969-3721
          </p>

          <div ng-show="identity.showQuestion">
            <p>{{ identity.securityQuestion }}</p>
            <input type="text" name="answer" ng-model="identity.securityAnswer" required />
            <!-- TODO: Add error text for when answer is not correct (server side validation) --> </div>
          <button class="btn" ng-disabled="forgotPassword.username.$invalid || forgotUsername.$dirty" ng-click="onForgotPasswordSubmit()">Submit</button>
        </form>
      </div>
    </div><!-- end forgot username/password view -->
  </div>
</div>
