<section class="row-fluid upcoming">
    <h4 class="row-item">Upcoming Payments</h4>
    <select class="row-item" name="viewMode" ng-model="viewMode">
        <option value="week">This Week</option>
        <option value="month">This Month</option>
    </select>
    <div class="row-fluid basic">
        <div class="span8" nxg-upcoming-calendar display="viewMode"></div>
        <div class="span4">
            <ul>
                <li>
                    <a class="more" href="#/home/payments">
                        <span class="item-total">{{summary.overdue.quantity}}</span>
                        <span ng-pluralize count="summary.overdue.quantity" when="{'1': 'OVERDUE Payment', 'other': 'OVERDUE Payments'}"></span>
                        <span> - {{summary.overdue.amount | currency}}</span>
                        <i class="icon-arrow-right"></i>
                    </a>
                </li>
                <li>
                    <a class="more" href="#/home/payments">
                        <span class="item-total">{{summary.dueToday.quantity}}</span>
                        <span ng-pluralize count="summary.dueToday.quantity" when="{'1': 'Payment DUE TODAY', 'other': 'Payments DUE TODAY'}"></span>
                        <span> - {{summary.dueToday.amount | currency}}</span>
                        <i class="icon-arrow-right"></i>
                    </a>
                </li>
                <li>
                    <a class="more" href="#/home/payments">
                        <span class="item-total">{{summary.thisWeek.quantity}}</span>
                        <span ng-pluralize count="summary.thisWeek.quantity" when="{'1': 'Payment THIS WEEK', 'other': 'Payments THIS WEEK'}"></span>
                        <span> - {{summary.thisWeek.amount | currency}}</span>
                        <i class="icon-arrow-right"></i>
                    </a>
                </li>
                <li>
                    <a class="more" href="#/home/payments">
                        <span class="item-total">{{summary.accountFees.quantity}}</span>
                        <span ng-pluralize count="summary.accountFees.quantity" when="{'1': 'Account Fee', 'other': 'Account Fees'}"></span>
                        <span> - {{summary.accountFees.amount | currency}}</span>
                        <i class="icon-arrow-right"></i>
                    </a>
                </li>
                <li>
                    <a class="more" href="#/home/payments">
                        View All Payments
                        <i class="icon-arrow-right"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <btn ng-click="isCollapsed = !isCollapsed" class="more btn btn-mini">More Details</btn>
    <div collapse="isCollapsed" class="row-fluid more-details">
        <div class="span8">
            <h4>Upcoming Payments</h4>
            <table>
                <thead>
                <tr>
                    <th>Due Date</th>
                    <th>Description</th>
                    <th>Payoff Due</th>
                    <th>Payment Due</th>
                </tr>
                </thead>
                <tr ng-repeat="payment in upcomingPayments">
                    <td title="Due Date">{{ payment.DueDate | date:'shortDate'  }}</td>
                    <td title="Description">{{ payment.UnitDescription }}</td>
                    <td title="Payoff Due">{{ payment.PrincipalPayoff | currency }}</td>
                    <td title="Payment Due">{{ payment.AmountDue | currency }}</td>
                </tr>
            </table>
            <tfoot>
            <a class="more" href="#/home/payments">View All Payments <i class="icon-arrow-right"></i></a>
            </tfoot>
        </div>
        <div class="span4 graphic">
            <div nxg-chart
                 nxg-chart-width="100"
                 nxg-chart-height="100"
                 nxg-chart-type="Pie"
                 nxg-chart-data="summary.chartData">
            </div>
        </div>
    </div>
</section>

<section class="row-fluid summaries">
    <div class="span4 summary credit">
        <h3>Credit</h3>
    </div>
    <div class="span3 summary unapplied-funds">
        <h3>Unapplied Funds</h3>
        <h4>Unapplied Funds</h4>
        <p>{{ unappliedFunds | currency }}</p>
        <h4>Total Available</h4>
        <p>{{ totalAvailable | currency }}</p>
        <a class="more" ng-click="openRequestPayout()">Request Payout<i class="icon-arrow-right"></i></a>
    </div>
    <div class="span2 summary floorplan">
        <h3>Floorplan</h3>
        <a class="more" href="#/home/floorplan">View Floorplan<i class="icon-arrow-right"></i></a>
    </div>
    <div class="span3 summary receipts">
        <h3>Most Recent Receipts</h3>
        <a class="more" href="#/home/receipts">View All Receipts<i class="icon-arrow-right"></i></a>
    </div>
</section>
