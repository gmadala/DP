# Translation Issues

There are some cases with _gotchas_ when translating. If you are having issues, check if your problem is solved below.

## HTML in Translation Strings

There will be some cases where HTML will have to be included in the translation string. We try to minimize it as much 
as possible, but simple formatting may slip in. For example, it's ok to have the following:

    <p translate>Hello <strong>{{ name }}</strong></p>

which the translator will see as `Hello <strong>{{ name }}</strong>`. However, if the HTML does not need to be 
included, leave it off. For example, in the following case:

    // Bad
    <button translate>Download <span class="icon-download"></span></button>

should be using the following code instead:

    // Good
    <button><span translate>Download</span> <span class="icon-download"></span></button>

Although it is more verbose, it only translates the string which is what we need. The icon doesn't need to be included. 
This will also prevent having duplicate translations for the same string -- e.g. "Download" and 
"Download <span class="icon-download"></span>".


## Strings passed into Attributes

When passing strings into attributes or directives, we need to use the filter. If we try to translate inside of the 
directive, we won't have that string properly extracted during `grunt translate`. Translating with an attribute will 
be done by filter:

    <div nxg-tooltip="{{ 'Find out more info' | translate }}">


## Duplicate translations

Sometimes when the translations come back from the translators, we have duplicate translations. This can be caused a 
few different ways:

### Singular and Plural definitions

Singular and Plural versions of strings are stored in different ways in the `po` files. In some cases we use the 
singular version in one place, and a plural in another, then at another place we switch based on count. This can 
cause problems because gettext sees we have duplicate "keys" for the singular version since the singular and plural 
versions use the same key but have different definitions. To prevent this, we need to convert singular items with 
plural translations to use the plural lookup instead. This would be done like so:

    <p translate translate-n="1" translate-plural="Account Fees">Account Fee</p>

You can see even though we want the text _"Account Fee"_, we force showing the singular version by passing 
`translate-n="1"`. If you want to force the plural version, you would use `translate-n="2"` instead.
